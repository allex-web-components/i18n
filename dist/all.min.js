!function(n,e,t){"use strict";var a=n.lib,i=n.WEB_COMPONENTS.allex_applib,o=i.BasicProcessor,l=i.BasicElement,g=i.misc;function s(){$("body").localize()}function r(n,t){l.call(this,n,t),this.language=null,this.available_langs=null,e.i18next.on("initialized",this._onI18Inintialized.bind(this)),e.i18next.language&&this.set("language",e.i18next.language)}function u(){o.call(this)}a.inherit(r,l),r.prototype.__cleanUp=function(){this.language=null,this.available_langs=null,l.prototype.__cleanUp.call(this)},r.prototype._onI18Inintialized=function(){this.set("language",i18next.language)},r.prototype.set_language=function(n){this.language=n,e.i18next.changeLanguage(n,this._onLanguageChanged.bind(this))},r.prototype._onLanguageChanged=function(){s(),a.isFunction(this.getConfigVal("onLanguageChanged"))&&this.getConfigVal("onLanguageChanged")(this.language)},i.registerElementType("i18n",r),a.inherit(u,o),u.prototype.destroy=function(){o.prototype.destroy.call(this)},u.prototype.process=function(n){var e=g.getElementsArr(n),a=this.config;a&&e.push({name:a.element_name||"language",type:"i18n",options:{onLanguageChanged:a.onLanguageChanged}});var i=ALLEX.lib.extend({defaultLanguageCode:"en",fallbackLng:"en",debug:!1,load:"all"},t.i18n);if(!i.translations)throw new Error("Unable to load translation data, CONFIG.translation data");i18next.init({lng:i.defaultLanguageCode,resources:i.translations}),jqueryI18next.init(i18next,$,{tName:"t",i18nName:"i18n",handleName:"localize",selectorAttr:"data-i18n",targetAttr:"i18n-target",optionsAttr:"i18n-options",useOptionsAttr:!1,parseDefaultValueFromContent:!0}),i18next.init({debug:!0,lng:i.defaultLanguageCode}),n.logic.push({triggers:".!ready",handler:s})},i.registerPreprocessor("i18PreProcessor",u)}(ALLEX,window,ALLEX_CONFIGURATION);